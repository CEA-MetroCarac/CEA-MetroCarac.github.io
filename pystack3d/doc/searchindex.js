Search.setIndex({"docnames": ["api/modules", "api/pystack3d", "api/pystack3d.bkg_removal", "api/pystack3d.cropping", "api/pystack3d.destriping", "api/pystack3d.intensity_rescaling", "api/pystack3d.intensity_rescaling_area", "api/pystack3d.registration_calculation", "api/pystack3d.registration_transformation", "api/pystack3d.resampling", "api/pystack3d.utils", "api/pystack3d.utils_metadata_fibics", "api/pystack3d.utils_multiprocessing", "bkg_removal", "cropping", "cropping_final", "destriping", "dev_notes", "general", "getting_started", "index", "intensity_rescaling", "intro", "params", "registration", "resampling"], "filenames": ["api\\modules.rst", "api\\pystack3d.rst", "api\\pystack3d.bkg_removal.rst", "api\\pystack3d.cropping.rst", "api\\pystack3d.destriping.rst", "api\\pystack3d.intensity_rescaling.rst", "api\\pystack3d.intensity_rescaling_area.rst", "api\\pystack3d.registration_calculation.rst", "api\\pystack3d.registration_transformation.rst", "api\\pystack3d.resampling.rst", "api\\pystack3d.utils.rst", "api\\pystack3d.utils_metadata_fibics.rst", "api\\pystack3d.utils_multiprocessing.rst", "bkg_removal.rst", "cropping.rst", "cropping_final.rst", "destriping.rst", "dev_notes.rst", "general.rst", "getting_started.rst", "index.rst", "intensity_rescaling.rst", "intro.rst", "params.rst", "registration.rst", "resampling.rst"], "titles": ["pystack3d", "pystack3d package", "pystack3d.bkg_removal module", "pystack3d.cropping module", "pystack3d.destriping module", "pystack3d.intensity_rescaling module", "pystack3d.intensity_rescaling_area module", "pystack3d.registration_calculation module", "pystack3d.registration_transformation module", "pystack3d.resampling module", "pystack3d.utils module", "pystack3d.utils_metadata_fibics module", "pystack3d.utils_multiprocessing module", "Background removal", "Cropping", "Cropping final", "Destriping", "Developers Notes", "General Parameters", "Getting started", "Welcome to the PyStack3D documentation !", "Intensity rescaling", "Introduction", "Parameters settings", "Registration", "Resampling"], "terms": {"packag": [0, 7, 19, 22], "submodul": 0, "bkg_remov": [0, 1, 13, 18, 19, 22], "modul": 0, "init_arg": [0, 1, 2, 5, 6, 7, 8, 9], "bkg_save": [0, 1, 2], "powers_from_ord": [0, 1, 2], "powers_from_expr": [0, 1, 2], "expr_from_pow": [0, 1, 2], "bkg_eval": [0, 1, 2], "poly_basis_calcul": [0, 1, 2], "bkg_calcul": [0, 1, 2], "bkg_3d_from_slic": [0, 1, 2], "plot": [0, 1, 2, 5, 6, 7, 8, 9, 19], "crop": [0, 1, 8, 12, 18, 19, 20, 22, 23, 24], "inds_from_area": [0, 1, 3], "destrip": [0, 1, 15, 18, 20, 22, 23], "intensity_resc": [0, 1, 18, 21, 22], "eval": [0, 1, 5, 19], "cdf_calcul": [0, 1, 5], "intensity_rescaling_area": [0, 1, 21], "registration_calcul": [0, 1, 18, 22, 24], "tmat_calcul": [0, 1, 7], "registration_plot": [0, 1, 7], "decomposit": [0, 1, 7], "registration_transform": [0, 1, 18, 22, 24], "img_transform": [0, 1, 8], "constant_drift_remov": [0, 1, 8], "running_avg_remov": [0, 1, 8], "inner_rectangl": [0, 1, 8], "find_max_inner_rectangl": [0, 1, 8], "resampl": [0, 1, 18, 19, 20, 22, 23], "extract_z_from_filenam": [0, 1, 9], "util": [0, 1, 11, 12], "mask_creat": [0, 1, 10], "outputs_sav": [0, 1, 10], "get_tag": [0, 1, 10], "save_tif": [0, 1, 10], "img_reformat": [0, 1, 10], "imread_3d_skip": [0, 1, 10], "skip": [0, 1, 2, 10, 13], "divis": [0, 1, 10, 24], "cumdot": [0, 1, 10], "utils_metadata_fib": [0, 1, 19], "params_from_metadata": [0, 1, 11, 19], "currents_from_metadata": [0, 1, 11], "read_tag": [0, 1, 11], "param_from_xml_etroot": [0, 1, 11], "utils_multiprocess": [0, 1], "shared_array_init": [0, 1, 12], "worker_init": [0, 1, 12], "np_from_arrai": [0, 1, 12], "step_wrapp": [0, 1, 12], "initialize_arg": [0, 1, 12], "send_shared_arrai": [], "receive_shared_arrai": [], "content": [0, 19], "stack3d": [0, 1, 2, 11, 18, 19], "pathdir": [0, 1], "last_step_dir": [0, 1], "channel": [0, 1, 11, 18, 19, 22], "process_dirnam": [0, 1], "create_partit": [0, 1], "cleanup": [0, 1, 19], "concatenate_tif": [0, 1, 19], "plot_stats_xi": [0, 1], "pbar_upd": [0, 1], "class": 1, "us": [1, 2, 4, 5, 6, 7, 8, 11, 13, 15, 16, 17, 18, 19, 21, 22, 23, 24, 25], "process": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 18, 19, 21, 22, 23, 24, 25], "stack": [1, 2, 5, 6, 7, 8, 9, 13, 14, 19, 21, 22, 23, 24], "from": [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 15, 16, 18, 19, 22, 23, 24], "fib": [1, 11, 16, 22], "sem": [1, 11, 16, 22], "imag": [1, 2, 5, 6, 7, 8, 9, 11, 13, 14, 15, 16, 19, 21, 22, 24, 25], "The": [1, 2, 5, 13, 15, 16, 17, 19, 21, 22, 23, 24, 25], "ha": [1, 2, 13, 16, 19, 22, 24], "attribut": 1, "wich": 1, "i": [1, 2, 6, 7, 8, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24], "path": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11], "directori": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 18, 20], "where": [1, 2, 18, 19], "data": [1, 2, 5, 6, 7, 8, 9, 10, 11, 13, 18, 19], "store": [1, 11, 18, 19], "param": [1, 2, 5, 6, 7, 8, 9, 11, 12, 19, 23], "which": [1, 2, 13, 19, 22, 23], "dictionari": [1, 2, 4, 5, 6, 7, 8, 9, 11, 12], "paramet": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 16, 19, 20, 21, 24], "input_nam": [1, 18, 19], "none": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "base": [1, 19, 22, 24], "object": [1, 8, 11, 12], "dedic": [1, 2, 3, 4, 7, 8, 13, 14, 21, 24, 25], "workflow": [1, 15, 18, 20, 22, 23], "manag": 1, "relat": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 16, 18, 19, 21, 23, 24, 25], "dirnam": 1, "tif": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 18, 19, 25], "ar": [1, 7, 8, 11, 13, 16, 17, 18, 19, 21, 23, 24, 25], "metadata": [1, 10, 11, 19], "type": [1, 2, 5, 6, 7, 8, 9, 10, 11, 19, 24], "last": [1, 13, 18, 19], "step": [1, 8, 12, 13, 14, 15, 16, 18, 19, 21, 22, 23, 24, 25], "execut": [1, 13, 18, 20, 23], "For": [1, 2, 4, 8, 13, 16, 19, 21, 22, 25], "first": [1, 11, 18, 19, 23], "correspond": [1, 4, 5, 8, 11, 13, 19, 21, 22, 23, 24, 25], "str": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12], "option": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 22, 24], "If": [1, 2, 5, 7, 8, 11, 17, 18, 21, 24], "consid": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 13, 18, 21, 23, 24, 25], "python": [1, 19, 22], "script": 1, "been": [1, 2, 13, 18, 19, 22], "process_step": [1, 12, 18, 19], "return": [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 19, 21], "list": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 16, 18, 19, 20], "accord": [1, 2, 6, 7, 8, 14, 15, 19, 21, 24], "wrt": [1, 10], "input_dirnam": [1, 18, 19], "nproc": [1, 12, 18, 19], "overlai": 1, "0": [1, 2, 4, 5, 6, 7, 8, 12, 19, 21, 22, 23, 24, 25], "filenam": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11], "partit": [1, 12], "multiprocess": [1, 2, 3, 4, 5, 6, 7, 8, 9, 12, 22], "pathnam": [2, 3, 4, 5, 6, 7, 8, 9, 11, 19], "input": [1, 2, 5, 8, 13, 18, 19], "int": [1, 2, 3, 4, 5, 6, 7, 8, 9], "number": [1, 4, 5, 7, 8, 13, 16, 18, 19, 21, 24, 25], "cpu": [1, 2, 13, 22], "creat": [1, 12, 15, 19, 22], "overlaid": 1, "frame": [1, 9, 13, 17, 18, 21, 22], "ensur": 1, "continu": 1, "fnames_part": 1, "ind_part": 1, "index": [1, 2, 3, 4, 5, 6, 7, 8, 9], "serial": [1, 19], "true": [1, 2, 8, 10, 11, 13, 19, 24], "show_pbar": 1, "method": [1, 24], "appli": [1, 7, 8, 13, 21, 22, 24], "name": [1, 4, 11, 12, 13, 15, 16, 18, 19, 21, 23, 24, 25], "": [1, 5, 22], "defin": [1, 3, 4, 6, 7, 11, 12, 13, 18, 19, 21, 23, 24], "without": [1, 19], "calcul": [1, 2, 7, 8, 19, 21, 22, 24], "bool": [1, 2, 7, 8, 9, 11], "activ": [1, 2, 7, 8, 9, 11, 13, 24], "kei": [1, 2, 7, 8, 9, 11, 12, 24], "fals": [1, 2, 7, 8, 9, 11, 13, 19, 24], "each": [1, 2, 4, 7, 8, 10, 11, 13, 16, 18, 19, 21, 23, 24], "take": [1, 2, 13, 19], "locat": [1, 5, 11, 14, 15, 21, 24], "folder": [1, 11, 13, 15, 19, 21, 24, 25], "displai": [1, 2, 11, 13], "progress": [1, 2, 3, 4, 5, 6, 7, 8, 9], "bar": [1, 2, 3, 4, 5, 6, 7, 8, 9], "dure": [1, 2, 5, 7, 8, 13, 15, 16, 18, 19, 22, 24, 25], "remov": [1, 2, 8, 15, 16, 19, 20, 22, 23, 24], "file": [1, 5, 10, 11, 17, 18, 19, 23, 25], "except": [1, 19, 21], "ones": [1, 13, 19], "save_metadata": 1, "dirname_out": 1, "name_out": 1, "big": [1, 13], "concaten": [1, 19], "issu": [1, 7, 16, 19, 20, 22], "singl": [1, 13, 18, 19, 24], "one": [1, 13, 15, 19, 22], "handl": [1, 5, 9], "default": [1, 6, 7, 8, 11, 13, 18, 19, 24], "extract": [1, 5, 11, 19], "histori": [1, 18], "toml": [1, 11, 19, 23], "save": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 19], "windowspath": 1, "associ": [1, 2, 5, 6, 8, 13, 21, 22, 24], "same": [1, 21], "output_dirnam": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "kwarg": [1, 12], "statist": [1, 9, 13, 19], "specif": [1, 2, 5, 6, 7, 8, 9, 19, 22], "valu": [1, 2, 5, 6, 7, 8, 10, 11, 13, 16, 18, 19, 21, 24], "skip_factor": [1, 2, 10, 13], "10": [1, 2, 4, 5, 10, 13, 16, 22], "x": [1, 2, 7, 13, 22, 23, 24], "et": 1, "y": [1, 2, 7, 13, 21, 23, 24], "direct": [1, 2, 9, 10, 24], "when": [1, 2, 3, 4, 5, 6, 7, 8, 9, 13, 16, 17, 19, 24], "load": 1, "full": [1, 19, 21, 22, 24], "3d": [1, 2, 10, 11, 13, 19, 22, 23], "queue_incr": [1, 2, 3, 4, 5, 6, 7, 8, 9, 12], "nslice": [1, 7, 8], "function": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 19], "background": [2, 19, 20, 22, 23], "initi": [2, 5, 6, 7, 8, 9, 12, 20], "argument": [2, 5, 6, 7, 8, 9, 12, 19], "current": [2, 5, 6, 7, 8, 9, 11], "arrai": [2, 5, 6, 7, 8, 9, 10, 12, 13], "share": [2, 5, 6, 7, 12], "coef": [2, 13], "dict": [2, 4, 5, 6, 7, 8, 9, 11, 12], "see": [2, 4, 5, 6, 7, 8, 9, 13, 16, 19, 21, 24], "document": [2, 4, 5, 6, 7, 8, 9, 13, 16, 17, 24], "more": [2, 4, 5, 6, 7, 8, 9, 13, 16, 17, 19, 24], "detail": [2, 4, 5, 6, 7, 8, 9, 13, 16, 19, 22, 24], "total": [], "slice": [2, 5, 8, 9, 11, 13, 18, 19, 21, 22, 23, 24, 25], "coeffici": [2, 13], "polynom": [2, 13, 23], "multi": [2, 5, 7, 17, 19], "numpi": [2, 5, 6, 7, 8, 9, 24], "ndarrai": [2, 5, 6, 7, 8, 9, 11], "len": [2, 9], "power": 2, "fname": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "inds_partit": [2, 3, 4, 5, 6, 7, 8, 9], "skip_averag": [2, 13], "threshold_min": [2, 6, 10, 13, 21], "threshold_max": [2, 6, 10, 13, 21], "weight_func": [2, 13], "hubert": [2, 13], "preserve_avg": [2, 13], "pathlib": [2, 3, 4, 5, 6, 7, 8, 9], "global": [2, 3, 4, 5, 6, 7, 8, 9], "var": [2, 3, 4, 5, 6, 7, 8, 9], "shared_arrai": [2, 3, 4, 5, 6, 7, 8, 9, 12], "work": [2, 3, 4, 5, 6, 7, 8, 9, 21, 22], "queue": [2, 3, 4, 5, 6, 7, 8, 9], "pass": [2, 3, 4, 5, 6, 7, 8, 9, 12, 18], "interact": [2, 3, 4, 5, 6, 7, 8, 9], "q": [2, 7, 8], "2": [2, 4, 5, 6, 7, 8, 9, 10, 13, 14, 15, 16, 21, 22, 24], "3": [2, 4, 5, 6, 7, 8, 9, 10, 13, 24], "term": [2, 13], "polynomi": [2, 13, 22], "basi": [2, 13], "invlex": 2, "order": [2, 8, 13, 18, 22], "exampl": [2, 4, 9, 12, 17, 20], "1": [2, 4, 5, 6, 7, 11, 13, 21, 22, 24], "tupl": [2, 5, 6, 7, 8, 9], "factor": [2, 6, 10, 13, 21], "perform": [2, 7, 8, 13, 20, 21, 24], "fit": [2, 13], "reduc": [2, 13, 19, 22, 24], "float": [2, 4, 5, 6, 7, 8, 9, 19], "rel": [2, 6], "threshold": [2, 6, 7, 24], "exclud": [2, 6, 13], "low": [2, 6, 13, 24], "high": [2, 6, 13], "averag": [2, 5, 6, 8, 13, 21, 24], "weight": [2, 13], "hampel": [2, 13], "m": [2, 5, 7, 8, 9, 22], "estim": [2, 6], "http": [2, 4, 5, 8, 22], "www": 2, "statsmodel": 2, "org": [2, 22], "stabl": 2, "rlm": [2, 13], "html": 2, "classic": 2, "leastsq": 2, "algorithm": [2, 4, 13, 16, 22], "solv": [2, 13], "A": [2, 19, 21, 22], "b": [2, 13, 22], "preserv": [2, 10, 13, 24], "between": [2, 4, 13, 16, 21, 22, 24, 25], "output": [2, 9, 13, 18, 20, 21, 24, 25], "onli": [2, 13, 19], "evalu": 2, "result": [2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 22, 24], "bkg_dirnam": 2, "bkg": 2, "png": [2, 13, 21, 24, 25], "format": [2, 9, 17, 19, 25], "vmin": [2, 5], "vmax": [2, 5], "cross_term": [2, 13], "potenti": [2, 13, 15], "z": [2, 9, 13, 19, 21, 23, 25], "respect": [2, 19], "account": [2, 13, 19, 24], "cross": [2, 13], "expr": 2, "dim": [2, 13], "force_cst_term": 2, "express": [2, 13], "print": [2, 11], "variabl": [2, 13], "arr": [2, 8, 10, 12], "poly_basis_precalc": 2, "poly_basis_precalc_skip": 2, "kwargs_3d": 2, "np": [2, 8, 9, 11, 24], "n": [2, 5, 7, 8, 9, 11], "p": [2, 7, 8, 22], "2d": [2, 7, 8, 13, 21], "pre": 2, "significantli": [2, 13], "decreas": [2, 13], "time": [2, 13, 14, 22, 24], "deal": 2, "huge": 2, "repetit": 2, "task": 2, "arr_bkg": 2, "final": [2, 9, 20, 23], "shape": [0, 1, 2, 5, 6, 7, 8, 9, 12, 16], "nd": 2, "poly_basi": [2, 13], "k": [2, 22], "shape_3d": 2, "coefs_3d": 2, "powers_3d": 2, "previous": [2, 8, 24], "axi": [2, 7, 8, 10, 13, 19, 21, 23, 25], "previuosli": 2, "iter": [2, 3, 4, 6, 7, 16], "area": [3, 6, 7, 8, 13, 14, 15, 19, 21, 24], "4": [3, 6, 7, 8, 10, 15], "coordin": [3, 6, 7, 8, 9, 14, 15, 21, 25], "xmin": [3, 6, 7, 14, 15, 21], "xmax": [3, 6, 7, 14, 15, 21], "ymin": [3, 6, 7, 14, 15, 21], "ymax": [3, 6, 7, 14, 15, 21], "pid_0": 3, "imin": [3, 8], "imax": [3, 8], "jmin": [3, 8], "jmax": [3, 8], "maxit": [4, 16], "100": [4, 21, 22, 23, 24], "cvg_threshold": [4, 16], "filter": [4, 5, 15, 16], "vsnr": 4, "github": [4, 19, 22], "com": [4, 5, 8, 22], "cea": [4, 22], "metrocarac": [4, 22], "pyvsnr": [4, 17, 22], "maximum": [4, 8, 16], "converg": [4, 16], "criteria": 4, "stop": [4, 16, 18], "residu": [4, 16], "variat": [4, 13, 16, 22], "specifi": [4, 6, 13, 18, 21, 23, 24], "noise_level": [4, 16], "sigma": [4, 16], "theta": [4, 16], "gabor": [4, 16], "20": [4, 8, 23, 24], "40": [4, 22], "intens": [5, 6, 13, 16, 20, 22, 23], "rescal": [5, 6, 20, 22, 23], "histo": [5, 6], "histogram": [5, 21], "nbin": [5, 21], "256": [5, 21], "range_bin": [5, 21], "filter_s": [5, 21], "bin": [5, 21], "rang": [5, 6, 10, 19, 21], "do": [5, 15, 22], "preliminari": [5, 21], "loop": [5, 21], "all": [5, 7, 8, 10, 12, 19, 21], "size": [5, 8, 13, 19, 22, 24, 25], "oper": [5, 8], "transvers": 5, "1d": 5, "uniform": [5, 21, 22, 23, 24, 25], "target": [5, 23], "standard": [5, 14, 15, 17, 19, 21], "through": [5, 13, 19], "img": [5, 7, 8, 10, 13], "cdf_target": 5, "x_target": 5, "find": [5, 13], "closest": 5, "pixel": [5, 13, 14, 15, 21, 24], "match": [5, 8], "cdf": 5, "cumul": [5, 7, 8, 10, 22, 24], "distribut": [5, 22, 25], "given": [5, 7, 8, 13, 19, 24], "h": 5, "t": [5, 17, 22], "stackoverflow": [5, 8], "question": [5, 8], "32655686": 5, "support": [5, 17, 22], "grai": [5, 6, 13, 19, 21, 22, 24], "level": [5, 21, 24], "img_resc": 5, "an": [5, 6, 11, 13, 19, 21, 22, 23, 24, 25], "img_cdf": 5, "contain": [6, 8, 11, 19], "user": [6, 17, 18, 19, 24], "tmp": 6, "mean": [6, 19, 21, 24], "rescaling_factor": 6, "factors_rang": [6, 21], "evolut": [6, 7, 19], "refer": [6, 7, 8, 11, 13, 16, 19, 21, 22, 25], "px": 6, "select": [6, 21, 22, 24], "author": [6, 19], "8": [6, 19, 21], "registr": [7, 8, 15, 20, 22, 23], "tmat": [7, 8], "transform": [7, 8, 24], "matric": [7, 8, 24], "nblock": 7, "nb_block": [7, 8, 24], "translat": [7, 8, 24], "whole": [7, 8], "binar": [7, 24], "patch": [7, 8, 24], "sub": [7, 8, 19], "matrix": [7, 8, 10, 24], "To": [7, 19, 21, 23], "choos": [7, 24], "among": [7, 8, 24], "rigid_bodi": [7, 24], "scaled_rot": [7, 24], "affin": [7, 8, 24], "pystackreg": [7, 24], "ref": 7, "stackreg": 7, "move": [7, 8], "titl": 7, "compon": [7, 12, 24], "sequenc": [7, 8], "figur": [7, 19, 24], "fig": 7, "matplotlib": 7, "transl_x": [7, 8], "transl_i": [7, 8], "rotat": [7, 22], "scale_x": 7, "scale_i": 7, "shear": 7, "note": [7, 13, 18, 19, 20, 21, 22, 24], "natur": 7, "angl": 7, "counter": 7, "clockwis": 7, "convent": [7, 19], "pre_calculated_tmat": 8, "constant_drift": [8, 24], "box_size_averag": [8, 24], "subpixel": [8, 22, 24], "mode": [8, 24], "constant": [8, 24, 25], "applic": [8, 22, 24], "box": 8, "run": [8, 21, 24], "keyword": [8, 19, 24], "enabl": [8, 13, 24], "edg": [8, 15, 22, 24], "symmetr": [8, 24], "reflect": [8, 24], "wrap": [8, 24], "extrapol": [8, 15, 24], "point": [8, 17], "outsid": [8, 19, 24], "boundari": 8, "fill": 8, "pad": [8, 24], "cval": [8, 24], "automat": [8, 18, 19], "set": [8, 13, 19, 20, 24], "nan": [8, 24], "piecewis": 8, "behaviour": [8, 13], "conjunct": 8, "interpol": [8, 9, 25], "warp": 8, "img_reg": 8, "regist": 8, "tform": 8, "piecewiseaffinetransform": 8, "drift": [8, 22, 24], "is_cumul": 8, "tmats_new": 8, "box_siz": 8, "window": 8, "tmats_cumul": 8, "indic": [2, 8, 13, 14, 15, 18], "inner": 8, "rectangl": 8, "success": [8, 22], "tansform": 8, "flow": 8, "largest": 8, "region": [8, 13, 14, 22], "affect": [8, 19], "2478447": 8, "dtype": [8, 10, 12], "stats_out": 9, "zpos_out": 9, "polici": [9, 25], "zpos_in": 9, "slice_nb": [9, 25], "z_coord": [9, 25], "slice_": [9, 25], "_z": [9, 25], "um": [9, 25], "origin": [9, 11, 14, 15, 19, 21, 23], "posit": [9, 13, 19, 21, 25], "verbos": [9, 11], "pars": [9, 11], "mask": [10, 13], "img_r": 10, "stat": 10, "append": 10, "after": [10, 18, 19, 22, 25], "reformat": [10, 19], "fid": 10, "extract_extra_tag": 10, "tag": [10, 11], "extra_tag": 10, "tifffil": 10, "fname_out": 10, "machin": 10, "limit": [10, 15], "num": 10, "highest": 10, "divid": 10, "pair": [10, 24], "ex": 10, "6": 10, "12": 10, "mat": 10, "product": 10, "acquisit": [11, 13, 14, 16, 18, 19, 22, 24, 25], "a3d": [11, 19], "setup": [11, 19], "stack_dir": 11, "fname_toml_ref": [11, 19], "raw": [11, 19], "must": [11, 12], "atlas3d": [11, 19], "subdirectori": 11, "taken": [11, 13, 21], "asset": 11, "print_tag": 11, "fname_xml": 11, "encod": [11, 19], "iso": 11, "8859": 11, "made": [11, 19], "fibic": [11, 19], "atla": [11, 19], "engin": 11, "read": [11, 19], "control": 11, "thei": [11, 19], "xml": 11, "etroot": 11, "root": [11, 18, 19], "elementtre": 11, "param_nam": 11, "etroot_from_xml": 11, "full_output": 11, "lxml": 11, "element": 11, "xpath": 11, "predefin": 11, "dictionnari": 11, "thi": [11, 13, 16, 18, 19, 21, 22, 24, 25], "string": 11, "AND": 11, "sharedctyp": 12, "barrier": 12, "shared_stat": 12, "shape_stat": 12, "dtype_stat": 12, "shape_arrai": 12, "dtype_arrai": 12, "worker": 12, "buffer": 12, "wrapper": 12, "case": [12, 13, 14, 16, 18, 21, 22, 23, 24, 25], "free": [12, 19], "so": 12, "independ": 12, "can": [12, 13, 16, 17, 18, 19, 21, 22], "have": [12, 13, 18, 19, 21, 25], "access": 12, "kmin": 12, "kmax": 12, "is_stat": [], "collect": 12, "sent": 12, "most": [13, 14], "techniqu": 13, "produc": [13, 19, 22], "due": [13, 15, 22], "instanc": [13, 15, 19, 22, 25], "charg": [13, 22], "effect": [13, 15, 16, 23, 24], "conduct": 13, "materi": [13, 21], "shadow": [13, 22], "deep": 13, "insid": [13, 19], "aim": [13, 15, 16, 19, 21, 24], "larg": [13, 19, 24], "scale": [13, 24], "assum": [13, 21], "realis": 13, "resolut": 13, "minim": [13, 16, 17, 22], "problem": 13, "least": [13, 19], "squar": [13, 19], "consist": [13, 16, 19, 22, 24], "xy": 13, "a_0": 13, "a_1": 13, "a_2": 13, "a_3": 13, "a_4": 13, "begin": 13, "align": [13, 24], "underset": 13, "mathbb": 13, "rxr": 13, "subset": 13, "operatornam": 13, "quad": 13, "end": [13, 18, 19, 22], "illustr": [13, 14, 16, 19, 21, 22, 23, 24, 25], "synthet": [13, 14, 16, 19, 21, 22, 23, 24, 25], "test": [13, 14, 16, 19, 20, 21, 23, 24, 25], "5": [13, 14, 24], "dimens": 13, "cost": 13, "entir": [13, 19, 24], "determin": [13, 21], "below": [13, 19, 21, 24], "lead": [13, 19, 21], "differ": [13, 19], "anoth": [13, 19, 22], "two": [13, 19, 24], "wai": 13, "definit": 13, "explicitli": 13, "liter": 13, "implicitli": 13, "prove": 13, "crucial": 13, "achiev": [13, 21], "desir": 13, "thought": 13, "form": [13, 17], "xyz": 13, "mai": [13, 19], "actual": [13, 14, 25], "its": [13, 19, 25], "minimum": 13, "follow": [13, 17, 19, 22, 23], "c": [13, 18, 22], "procedur": 13, "sinc": 13, "could": [13, 19, 24], "allow": [13, 15, 18, 19, 24], "1000x1000x1000": 13, "seem": 13, "good": [13, 17], "compromis": 13, "accuraci": 13, "ram": 13, "occup": 13, "realiz": [13, 19], "local": 13, "instead": 13, "real": [13, 19], "benefit": 13, "observ": 13, "practic": 13, "includ": [13, 19, 25], "impact": 13, "slightli": 13, "like": [13, 16, 22], "hole": 13, "porou": 13, "medium": 13, "character": 13, "veri": 13, "satur": 13, "reason": 13, "abov": [13, 19], "outlier": 13, "At": [13, 19], "suitabl": 13, "special": [13, 21, 24, 25], "gener": [13, 15, 19, 20, 21, 23, 24, 25], "stats_x": 13, "stats_i": 13, "give": [13, 17, 21], "along": [13, 19, 21, 23, 25], "larger": 14, "than": [14, 19, 24], "Of": [14, 22], "interest": [14, 22], "roi": [14, 19, 22], "45": 14, "42": 14, "system": [14, 15, 21], "bottom": [14, 15, 21], "left": [14, 15, 21], "strictli": 15, "ident": 15, "It": [15, 18, 19], "artefact": [15, 16, 22], "cropping_fin": [15, 18, 22], "distinct": 15, "38": 15, "30": [15, 22, 24], "stripe": [16, 22], "curtain": [16, 23], "appear": [16, 22], "some": [16, 19, 22, 23], "technic": [16, 22], "typic": [16, 17, 19, 22], "pyvnsr": 16, "librari": [16, 22, 24], "50": 16, "1e": 16, "200": 16, "80": 16, "criterion": 16, "reach": 16, "pystack3d": [17, 18, 19, 23], "new": 17, "project": [17, 20, 22], "start": [17, 18, 20], "2021": 17, "warmli": 17, "encourag": 17, "collabor": 17, "contribut": 17, "ongo": 17, "improv": 17, "welcom": 17, "bug": 17, "report": 17, "code": [17, 22], "featur": [17, 24], "tracker": 17, "propos": 17, "demonstr": 17, "copi": 17, "past": 17, "error": 17, "traceback": 17, "you": [17, 22], "want": 17, "sourc": [17, 22], "send": 17, "u": [17, 22], "against": 17, "main": 17, "branch": 17, "small": [17, 19], "fix": 17, "correct": [17, 18, 22], "guid": 17, "But": [17, 19], "don": 17, "hesit": 17, "also": 17, "signific": 17, "need": [17, 19], "we": [17, 23], "ll": 17, "help": [17, 19], "get": [17, 20], "readi": 17, "common": 17, "add": 17, "gui": 17, "make": [17, 24], "ind_min": 18, "150": [18, 23], "ind_max": 18, "1500": 18, "esb": 18, "se2": 18, "16": [18, 19], "multipl": [18, 22], "In": [18, 19, 21, 22, 24], "directli": 18, "put": 18, "equival": 18, "parallel": 18, "thread": [18, 19], "alreadi": 18, "done": [18, 19], "middl": 18, "restart": 18, "finish": 18, "updat": 18, "abl": 18, "ani": [18, 22, 24], "unexpect": 18, "interrupt": 18, "requir": [19, 22], "both": 19, "section": [19, 22], "either": [19, 21], "project_dir": 19, "slice_0000_z": 19, "0000um": 19, "slice_0001_z": 19, "0100um": 19, "channel_1": 19, "channel_2": 19, "onc": [19, 22], "found": 19, "As": 19, "consequ": 19, "suffici": [19, 24], "amount": 19, "disk": 19, "space": 19, "2000": [19, 22], "2000x2000": 19, "bit": 19, "approxim": [19, 22], "15gb": 19, "facilit": 19, "clean": 19, "volum": 19, "wa": [19, 22], "instruct": 19, "provid": [19, 22], "here": [19, 22], "adapt": 19, "softwar": [19, 22], "develop": [19, 20], "import": 19, "mandatori": 19, "acquisiton": 19, "chang": [19, 21, 23], "might": 19, "dz": [19, 23, 25], "On": 19, "top": 19, "check": 19, "field": [19, 22], "view": [19, 22], "By": 19, "other": [19, 24], "my_toml_ref": 19, "obtain": [19, 23], "via": [19, 22], "omit": 19, "addit": [19, 22], "boolean": 19, "non": [19, 22, 23, 24], "said": 19, "up": 19, "easili": 19, "eas": 19, "visual": 19, "contaten": [], "describ": 19, "hereaft": [19, 23], "exist": 19, "min": [19, 21], "max": [19, 21], "befor": [19, 22, 25], "compat": 19, "inde": 19, "modifi": 19, "integ": [19, 21], "happen": 19, "subtract": [19, 24], "neg": 19, "overflow": 19, "repositori": 19, "compos": [19, 23], "quick": 19, "overview": 19, "outcom": 19, "cd": [19, 22], "ex_synthetic_stack": [19, 22], "py": [19, 22], "second": 19, "although": 19, "longer": 19, "previou": 19, "ex_real_stack": [19, 22], "introduct": 20, "what": [20, 23], "instal": 20, "acknowledg": 20, "citat": 20, "organ": 20, "pull": 20, "request": 20, "todo": 20, "homogen": [21, 22], "consecut": [21, 24], "across": 21, "cut": [21, 23], "plane": [21, 23], "83": [21, 23], "strong": 21, "contrast": [21, 22], "127": 21, "thu": [21, 24], "call": 21, "99999": 21, "bound": 21, "intensity_rescaling_profil": 21, "intensity_rescaling_map": 21, "profil": 21, "inform": 21, "map": 21, "represent": 21, "maxim": 21, "mainli": 21, "hidden": 21, "70": [21, 23, 24], "open": 22, "written": 22, "tool": 22, "segment": 22, "detector": 22, "bright": [22, 23], "inhomogeneti": 22, "misalign": 22, "shift": [22, 23, 24], "spatial": [22, 24], "elimin": 22, "defect": [22, 23], "ground": 22, "truth": 22, "design": 22, "rapid": 22, "4224": 22, "32": 22, "intel": 22, "r": 22, "xeon": 22, "platinum": 22, "8362": 22, "80ghz": 22, "linux": 22, "server": 22, "28": [], "33": [], "314": [], "9": [], "gpu": 22, "nvidia": 22, "git": 22, "clone": 22, "pypi": [], "pip": 22, "further": 22, "pytest": 22, "carri": 22, "out": [22, 25], "platform": 22, "nanocharacteris": 22, "pfnc": 22, "recherch": 22, "technologiqu": 22, "de": 22, "program": 22, "french": 22, "nation": 22, "research": 22, "agenc": 22, "anr": 22, "articl": 22, "pleas": 22, "cite": 22, "qu\u00e9m\u00e9r\u00e9": 22, "david": 22, "2024": 22, "fast": 22, "journal": 22, "submit": 22, "pavi": 22, "zenodo": 22, "doi": 22, "5281": 22, "10623640": 22, "fehrenbach": 22, "j": 22, "weiss": 22, "lorenzo": 22, "2012": 22, "stationari": 22, "nois": 22, "microscopi": 22, "ieee": 22, "transact": 22, "21": 22, "4420": 22, "4430": 22, "th\u00e9venaz": 22, "ruttimann": 22, "e": 22, "unser": 22, "1998": 22, "pyramid": 22, "approach": 22, "vol": 22, "7": 22, "pp": 22, "27": 22, "41": 22, "januari": 22, "structur": 23, "condit": 23, "encapsul": 23, "ad": 23, "300": 23, "voxel": 23, "sampl": 23, "inter": 23, "distanc": 23, "01": [23, 25], "02": 23, "visualis": 23, "occur": 24, "3x3": 24, "remind": 24, "35": 24, "comput": 24, "should": 24, "encompass": 24, "relev": 24, "emploi": 24, "comment": 24, "line": 24, "decompos": 24, "grid": 24, "block": 24, "captur": 24, "bilinear": 24, "uncommon": 24, "visibl": 24, "slide": 24, "fluctuat": 24, "possibl": 24, "less": 24, "equal": 24, "registration_calculation_cumul": 24, "show": [24, 25], "realign": 24, "flat": 24, "despit": 24, "zero": 24, "recreat": 25, "linear": 25, "known": 25, "measur": 25, "z_posit": 25, "z_increment": 25, "increment": 25, "get_powers_2d": [0, 1, 2], "collect_shared_array_part": [0, 1, 12], "get_complete_shared_arrai": [0, 1, 12], "1rst": 2, "2nd": 2, "shared_array2": 12, "shape_array2": 12, "dtype_array2": 12, "480": 22, "24": 22, "11": 22, "environ": 22, "complet": 22, "poetri": 22, "Then": 22, "path_to_your_pystack3d_project": 22}, "objects": {"": [[1, 0, 0, "-", "pystack3d"]], "pystack3d": [[1, 1, 1, "", "Stack3d"], [2, 0, 0, "-", "bkg_removal"], [3, 0, 0, "-", "cropping"], [4, 0, 0, "-", "destriping"], [5, 0, 0, "-", "intensity_rescaling"], [6, 0, 0, "-", "intensity_rescaling_area"], [1, 4, 1, "", "pbar_update"], [1, 4, 1, "", "plot"], [1, 4, 1, "", "plot_stats_xy"], [7, 0, 0, "-", "registration_calculation"], [8, 0, 0, "-", "registration_transformation"], [9, 0, 0, "-", "resampling"], [10, 0, 0, "-", "utils"], [11, 0, 0, "-", "utils_metadata_fibics"], [12, 0, 0, "-", "utils_multiprocessing"]], "pystack3d.Stack3d": [[1, 2, 1, "", "channels"], [1, 2, 1, "", "cleanup"], [1, 2, 1, "", "concatenate_tif"], [1, 2, 1, "", "create_partition"], [1, 2, 1, "", "eval"], [1, 2, 1, "", "fnames"], [1, 3, 1, "", "last_step_dir"], [1, 3, 1, "", "pathdir"], [1, 2, 1, "", "process_dirname"], [1, 2, 1, "", "shape"]], "pystack3d.bkg_removal": [[2, 4, 1, "", "bkg_3d_from_slices"], [2, 4, 1, "", "bkg_calculation"], [2, 4, 1, "", "bkg_eval"], [2, 4, 1, "", "bkg_removal"], [2, 4, 1, "", "bkg_saving"], [2, 4, 1, "", "expr_from_powers"], [2, 4, 1, "", "get_powers_2d"], [2, 4, 1, "", "init_args"], [2, 4, 1, "", "plot"], [2, 4, 1, "", "poly_basis_calculation"], [2, 4, 1, "", "powers_from_expr"], [2, 4, 1, "", "powers_from_orders"]], "pystack3d.cropping": [[3, 4, 1, "", "cropping"], [3, 4, 1, "", "inds_from_area"]], "pystack3d.destriping": [[4, 4, 1, "", "destriping"]], "pystack3d.intensity_rescaling": [[5, 4, 1, "", "cdf_calculation"], [5, 4, 1, "", "eval"], [5, 4, 1, "", "init_args"], [5, 4, 1, "", "intensity_rescaling"], [5, 4, 1, "", "plot"]], "pystack3d.intensity_rescaling_area": [[6, 4, 1, "", "init_args"], [6, 4, 1, "", "intensity_rescaling_area"], [6, 4, 1, "", "plot"]], "pystack3d.registration_calculation": [[7, 4, 1, "", "decomposition"], [7, 4, 1, "", "init_args"], [7, 4, 1, "", "plot"], [7, 4, 1, "", "registration_calculation"], [7, 4, 1, "", "registration_plot"], [7, 4, 1, "", "tmat_calculation"]], "pystack3d.registration_transformation": [[8, 4, 1, "", "constant_drift_removal"], [8, 4, 1, "", "find_max_inner_rectangle"], [8, 4, 1, "", "img_transformation"], [8, 4, 1, "", "init_args"], [8, 4, 1, "", "inner_rectangle"], [8, 4, 1, "", "plot"], [8, 4, 1, "", "registration_transformation"], [8, 4, 1, "", "running_avg_removal"]], "pystack3d.resampling": [[9, 4, 1, "", "extract_z_from_filenames"], [9, 4, 1, "", "init_args"], [9, 4, 1, "", "plot"], [9, 4, 1, "", "resampling"]], "pystack3d.utils": [[10, 4, 1, "", "cumdot"], [10, 4, 1, "", "division"], [10, 4, 1, "", "get_tags"], [10, 4, 1, "", "img_reformatting"], [10, 4, 1, "", "imread_3d_skipping"], [10, 4, 1, "", "mask_creation"], [10, 4, 1, "", "outputs_saving"], [10, 4, 1, "", "save_tif"], [10, 4, 1, "", "skipping"]], "pystack3d.utils_metadata_fibics": [[11, 4, 1, "", "currents_from_metadata"], [11, 4, 1, "", "param_from_xml_ETroot"], [11, 4, 1, "", "params_from_metadata"], [11, 4, 1, "", "read_tags"]], "pystack3d.utils_multiprocessing": [[12, 4, 1, "", "collect_shared_array_parts"], [12, 4, 1, "", "get_complete_shared_array"], [12, 4, 1, "", "initialize_args"], [12, 4, 1, "", "np_from_array"], [12, 4, 1, "", "shared_array_init"], [12, 4, 1, "", "step_wrapper"], [12, 4, 1, "", "worker_init"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"pystack3d": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 20, 22], "packag": 1, "submodul": 1, "modul": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "content": 1, "bkg_remov": 2, "crop": [3, 14, 15], "destrip": [4, 16], "intensity_resc": 5, "intensity_rescaling_area": 6, "registration_calcul": 7, "registration_transform": 8, "resampl": [9, 25], "util": 10, "utils_metadata_fib": 11, "utils_multiprocess": 12, "background": 13, "remov": 13, "plot": [13, 21, 24, 25], "final": 15, "develop": 17, "note": 17, "issu": 17, "pull": 17, "request": 17, "todo": 17, "list": 17, "gener": 18, "paramet": [18, 23], "get": 19, "start": 19, "project": 19, "directori": 19, "organ": 19, "workflow": 19, "initi": 19, "case": 19, "zeiss": 19, "fib": 19, "sem": 19, "execut": [19, 22], "output": 19, "exampl": [19, 22], "welcom": 20, "document": 20, "user": 20, "guid": 20, "api": 20, "refer": 20, "intens": 21, "rescal": 21, "introduct": 22, "what": 22, "i": 22, "perform": 22, "instal": 22, "test": 22, "acknowledg": 22, "citat": 22, "set": 23, "registr": 24}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 57}, "alltitles": {"pystack3d": [[0, "pystack3d"]], "pystack3d.utils_metadata_fibics module": [[11, "module-pystack3d.utils_metadata_fibics"]], "Background removal": [[13, "background-removal"]], "Plotting": [[13, "plotting"], [21, "plotting"], [24, "plotting"], [25, "plotting"]], "Cropping": [[14, "cropping"]], "Cropping final": [[15, "cropping-final"]], "Destriping": [[16, "destriping"]], "Developers Notes": [[17, "developers-notes"]], "Issues": [[17, "issues"]], "Pull Requests": [[17, "pull-requests"]], "TODO List": [[17, "todo-list"]], "General Parameters": [[18, "general-parameters"]], "Welcome to the PyStack3D documentation !": [[20, "welcome-to-the-pystack3d-documentation"]], "User Guide": [[20, null]], "API References": [[20, null]], "Intensity rescaling": [[21, "intensity-rescaling"]], "Parameters settings": [[23, "parameters-settings"]], "Registration": [[24, "registration"]], "Resampling": [[25, "resampling"]], "Getting started": [[19, "getting-started"]], "Project directory organization": [[19, "project-directory-organization"]], "Workflow initialization": [[19, "workflow-initialization"]], "Case of a Zeiss FIB-SEM": [[19, "case-of-a-zeiss-fib-sem"]], "Workflow execution": [[19, "workflow-execution"]], "Outputs": [[19, "outputs"]], "Examples": [[19, "examples"]], "pystack3d package": [[1, "pystack3d-package"]], "Submodules": [[1, "submodules"]], "Module contents": [[1, "module-pystack3d"]], "pystack3d.bkg_removal module": [[2, "module-pystack3d.bkg_removal"]], "pystack3d.cropping module": [[3, "module-pystack3d.cropping"]], "pystack3d.destriping module": [[4, "module-pystack3d.destriping"]], "pystack3d.intensity_rescaling module": [[5, "module-pystack3d.intensity_rescaling"]], "pystack3d.intensity_rescaling_area module": [[6, "module-pystack3d.intensity_rescaling_area"]], "pystack3d.registration_calculation module": [[7, "module-pystack3d.registration_calculation"]], "pystack3d.registration_transformation module": [[8, "module-pystack3d.registration_transformation"]], "pystack3d.resampling module": [[9, "module-pystack3d.resampling"]], "pystack3d.utils module": [[10, "module-pystack3d.utils"]], "pystack3d.utils_multiprocessing module": [[12, "module-pystack3d.utils_multiprocessing"]], "Introduction": [[22, "introduction"]], "What is PyStack3D ?": [[22, "what-is-pystack3d"]], "Performance": [[22, "performance"], [22, "id3"]], "Install": [[22, "install"]], "Tests and examples execution": [[22, "tests-and-examples-execution"]], "Acknowledgements": [[22, "acknowledgements"]], "Citations": [[22, "citations"]]}, "indexentries": {}})