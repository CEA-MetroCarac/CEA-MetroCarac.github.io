Search.setIndex({"docnames": ["api/modules", "api/pystack3d", "api/pystack3d.bkg_removal", "api/pystack3d.cropping", "api/pystack3d.destriping", "api/pystack3d.intensity_rescaling", "api/pystack3d.registration_calculation", "api/pystack3d.registration_transformation", "api/pystack3d.resampling", "api/pystack3d.utils", "api/pystack3d.utils_metadata_fibics", "api/pystack3d.utils_multiprocessing", "bkg_removal", "cropping", "cropping_final", "destriping", "dev_notes", "general", "getting_started", "index", "intensity_rescaling", "intro", "params", "registration", "resampling"], "filenames": ["api\\modules.rst", "api\\pystack3d.rst", "api\\pystack3d.bkg_removal.rst", "api\\pystack3d.cropping.rst", "api\\pystack3d.destriping.rst", "api\\pystack3d.intensity_rescaling.rst", "api\\pystack3d.registration_calculation.rst", "api\\pystack3d.registration_transformation.rst", "api\\pystack3d.resampling.rst", "api\\pystack3d.utils.rst", "api\\pystack3d.utils_metadata_fibics.rst", "api\\pystack3d.utils_multiprocessing.rst", "bkg_removal.rst", "cropping.rst", "cropping_final.rst", "destriping.rst", "dev_notes.rst", "general.rst", "getting_started.rst", "index.rst", "intensity_rescaling.rst", "intro.rst", "params.rst", "registration.rst", "resampling.rst"], "titles": ["pystack3d", "pystack3d package", "pystack3d.bkg_removal module", "pystack3d.cropping module", "pystack3d.destriping module", "pystack3d.intensity_rescaling module", "pystack3d.registration_calculation module", "pystack3d.registration_transformation module", "pystack3d.resampling module", "pystack3d.utils module", "pystack3d.utils_metadata_fibics module", "pystack3d.utils_multiprocessing module", "Background removal", "Cropping", "Cropping final", "Destriping", "Developers Notes", "General Parameters", "Getting started", "Welcome to the PyStack3D documentation !", "Intensity rescaling", "Introduction", "Parameters settings", "Registration", "Resampling"], "terms": {"packag": [0, 6, 18, 21], "submodul": 0, "bkg_remov": [0, 1, 12, 17, 18, 21], "modul": 0, "init_arg": [0, 1, 2, 5, 6, 7, 8], "bkg_save": [0, 1, 2], "powers_from_ord": [0, 1, 2], "powers_from_expr": [0, 1, 2], "expr_from_pow": [0, 1, 2], "eval": [0, 1, 2, 5, 18], "poly_basis_calcul": [0, 1, 2], "bkg_calcul": [0, 1, 2], "bkg_3d_from_slic": [0, 1, 2], "plot": [0, 1, 2, 5, 6, 7, 8, 18], "crop": [0, 1, 7, 11, 17, 18, 19, 21, 22, 23], "inds_from_area": [0, 1, 3], "destrip": [0, 1, 14, 17, 19, 21, 22], "intensity_resc": [0, 1, 17, 20, 21], "cdf_calcul": [0, 1, 5], "registration_calcul": [0, 1, 17, 23], "tmat_calcul": [0, 1, 6], "registration_plot": [0, 1, 6], "decomposit": [0, 1, 6], "registration_transform": [0, 1, 17, 23], "img_transform": [0, 1, 7], "constant_drift_remov": [0, 1, 7], "running_avg_remov": [0, 1, 7], "inner_rectangl": [0, 1, 7], "find_max_inner_rectangl": [0, 1, 7], "resampl": [0, 1, 17, 18, 19, 21, 22], "extract_z_from_filenam": [0, 1, 8], "util": [0, 1, 10, 11], "outputs_sav": [0, 1, 9], "img_reformat": [0, 1, 9], "imread_3d_skip": [0, 1, 9], "skip": [0, 1, 2, 9, 12], "divis": [0, 1, 9, 23], "cumdot": [0, 1, 9], "utils_metadata_fib": [0, 1, 18], "params_from_metadata": [0, 1, 10, 18], "read_tag": [0, 1, 10], "param_from_xml_etroot": [0, 1, 10], "utils_multiprocess": [0, 1], "shared_array_init": [0, 1, 11], "worker_init": [0, 1, 11], "np_from_arrai": [0, 1, 11], "step_wrapp": [0, 1, 11], "initialize_arg": [0, 1, 11], "send_shared_arrai": [0, 1, 11], "receive_shared_arrai": [0, 1, 11], "content": [0, 18], "stack3d": [0, 1, 2, 10, 17, 18], "pathdir": [0, 1], "last_step_dir": [0, 1], "create_partit": [0, 1], "pbar_upd": [0, 1], "class": 1, "us": [1, 2, 4, 5, 6, 7, 10, 12, 14, 15, 16, 17, 18, 21, 22, 23, 24], "process": [1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15, 17, 18, 20, 21, 22, 23, 24], "stack": [1, 12, 13, 18, 20, 21, 22, 23], "from": [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15, 17, 18, 21, 22, 23], "fib": [1, 10, 15, 21], "sem": [1, 10, 15, 21], "imag": [1, 2, 5, 6, 7, 8, 10, 12, 13, 14, 15, 18, 20, 21, 23, 24], "The": [1, 2, 5, 12, 14, 15, 16, 18, 20, 21, 22, 23, 24], "ha": [1, 2, 12, 15, 18, 23], "attribut": 1, "wich": 1, "i": [1, 2, 6, 7, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 23], "path": [1, 2, 3, 4, 5, 6, 7, 8, 10], "directori": [1, 2, 3, 4, 5, 6, 7, 8, 10, 17, 19], "where": [1, 2, 17, 18], "data": [1, 2, 5, 6, 7, 8, 9, 10, 17, 18], "store": [1, 10, 17, 18], "param": [1, 2, 5, 6, 7, 8, 10, 11, 18, 22], "which": [1, 2, 12, 18, 21, 22], "dictionari": [1, 2, 4, 5, 6, 7, 8, 10, 11], "paramet": [1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 15, 18, 19, 20, 23], "input_nam": [1, 17, 18], "none": [1, 2, 3, 4, 5, 6, 7, 8, 10], "base": [1, 18, 21, 23], "object": [1, 7, 10, 11], "dedic": [1, 2, 3, 4, 6, 7, 12, 13, 20, 23, 24], "workflow": [1, 14, 17, 19, 21, 22], "manag": 1, "relat": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 15, 17, 18, 20, 22, 23, 24], "dirnam": 1, "tif": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 17, 18, 24], "ar": [1, 6, 7, 10, 12, 15, 16, 17, 18, 20, 22, 23, 24], "metadata": [1, 10, 18], "type": [1, 2, 5, 6, 7, 8, 9, 10, 18, 23], "last": [1, 12, 17], "step": [1, 7, 11, 12, 13, 14, 15, 17, 18, 20, 21, 22, 23, 24], "execut": [1, 12, 17, 19, 22], "For": [1, 2, 4, 7, 12, 15, 18, 24], "first": [1, 10, 17, 18, 22], "correspond": [1, 4, 5, 7, 10, 12, 18, 20, 21, 22, 23, 24], "str": [1, 2, 3, 4, 5, 6, 7, 8, 10, 11], "option": [1, 2, 3, 4, 5, 6, 7, 8, 10, 21, 23], "If": [1, 2, 5, 6, 7, 10, 16, 17, 20, 23], "consid": [1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 17, 20, 22, 23, 24], "python": [1, 18, 21], "script": 1, "been": [1, 2, 12, 17, 18], "input_dirnam": [1, 17, 18], "nproc": [1, 11, 17, 18], "overlai": 1, "0": [1, 2, 4, 6, 7, 11, 18, 20, 21, 22, 23, 24], "return": [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 18, 20], "filenam": [1, 2, 3, 4, 5, 6, 7, 8], "partit": [1, 11], "multiprocess": [1, 2, 3, 4, 5, 6, 7, 8, 11, 21], "pathnam": [1, 2, 3, 4, 5, 6, 7, 8, 10, 18], "input": [1, 5, 7, 17, 18], "int": [1, 2, 3, 4, 5, 6, 7, 8], "number": [1, 2, 4, 5, 6, 7, 8, 12, 15, 17, 18, 20, 23, 24], "cpu": [1, 2, 12, 21], "creat": [1, 11, 14], "overlaid": 1, "frame": [1, 8, 12, 16, 17, 20, 21], "ensur": 1, "continu": 1, "fnames_part": 1, "list": [1, 2, 3, 4, 5, 6, 7, 8, 15, 17, 18, 19], "ind_part": 1, "index": [1, 2, 3, 4, 5, 6, 7, 8], "process_step": [1, 11, 17, 18], "serial": [1, 18], "true": [1, 2, 7, 10, 12, 18, 23], "show_pbar": 1, "method": [1, 23], "appli": [1, 6, 7, 12, 21, 23], "name": [1, 4, 10, 11, 12, 14, 15, 17, 18, 20, 22, 23, 24], "": [1, 5, 21], "defin": [1, 3, 4, 6, 10, 11, 12, 17, 18, 20, 22, 23], "without": [1, 18], "calcul": [1, 2, 6, 7, 18, 20, 21, 23], "bool": [1, 2, 6, 7, 8, 10], "activ": [1, 2, 6, 7, 8, 10, 12, 23], "kei": [1, 2, 6, 7, 8, 10, 23], "fals": [1, 2, 6, 7, 8, 10, 11, 18, 23], "each": [1, 2, 4, 6, 7, 9, 10, 12, 15, 17, 18, 20, 22, 23], "take": [1, 2, 12, 18], "locat": [1, 5, 10, 13, 14, 23], "folder": [1, 10, 12, 14, 18, 20, 23, 24], "displai": [1, 2, 10], "progress": [1, 2, 3, 4, 5, 6, 7, 8], "bar": [1, 2, 3, 4, 5, 6, 7, 8], "dure": [1, 2, 5, 6, 7, 12, 14, 15, 17, 18, 21, 23, 24], "output_dirnam": [1, 2, 3, 4, 5, 6, 7, 8, 9], "statist": [1, 8, 18], "specif": [1, 2, 5, 6, 7, 8, 18, 21], "valu": [1, 2, 5, 6, 7, 10, 12, 15, 17, 18, 20, 23], "queue_incr": [1, 2, 3, 4, 5, 6, 7, 8, 11], "nslice": [1, 2, 5, 6, 7, 8, 11], "function": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 18], "background": [2, 18, 19, 21, 22], "remov": [2, 7, 14, 15, 18, 19, 21, 22, 23], "initi": [2, 5, 6, 7, 8, 11, 19], "argument": [2, 5, 6, 7, 8, 11, 18], "current": [2, 5, 6, 7, 8], "arrai": [2, 5, 6, 7, 8, 9, 11, 12], "share": [2, 5, 6, 11], "coef": [2, 12], "dict": [2, 4, 5, 6, 7, 8, 10, 11], "see": [2, 4, 5, 6, 7, 8, 12, 15, 18, 23], "document": [2, 4, 5, 6, 7, 8, 12, 15, 16, 23], "more": [2, 4, 5, 6, 7, 8, 12, 15, 16, 23], "detail": [2, 4, 5, 6, 7, 8, 12, 15, 18, 21, 23], "total": [2, 5, 6, 7, 8], "slice": [2, 5, 6, 7, 8, 10, 12, 17, 18, 20, 21, 22, 23, 24], "coeffici": [2, 12], "polynom": [2, 12, 22], "multi": [2, 5, 6, 16, 18], "numpi": [2, 5, 6, 7, 8, 23], "ndarrai": [2, 5, 6, 7, 8], "len": [2, 8], "power": 2, "fname": [2, 3, 4, 5, 6, 7, 8, 9, 10], "inds_partit": [2, 3, 4, 5, 6, 7, 8], "skip_factor": [2, 9, 12], "10": [2, 4, 5, 9, 12, 15, 21], "skip_averag": [2, 12], "threshold_min": [2, 12], "threshold_max": [2, 12], "weight_func": [2, 12], "hubert": [2, 12], "o": [2, 3, 4, 5, 6, 7, 8], "pathlib": [2, 3, 4, 5, 6, 7, 8], "global": [2, 3, 4, 5, 6, 7, 8], "var": [2, 3, 4, 5, 6, 7, 8], "shared_arrai": [2, 3, 4, 5, 6, 7, 8, 11], "when": [2, 3, 4, 5, 6, 7, 8, 12, 15, 16, 18, 23], "work": [2, 3, 4, 5, 6, 7, 8, 21], "queue": [2, 3, 4, 5, 6, 7, 8], "pass": [2, 3, 4, 5, 6, 7, 8, 11, 17], "interact": [2, 3, 4, 5, 6, 7, 8], "q": [2, 6, 7], "2": [2, 4, 5, 6, 7, 8, 9, 12, 13, 14, 15, 21, 23], "3": [2, 4, 6, 7, 8, 9, 12, 23], "term": [2, 12], "polynomi": [2, 12, 21], "basi": [2, 12], "invlex": 2, "order": [2, 7, 12, 17, 21], "exampl": [2, 4, 8, 11, 16, 19], "1": [2, 4, 5, 6, 10, 12, 20, 21, 23], "y": [2, 6, 12, 20, 22, 23], "x": [2, 6, 12, 21, 22, 23], "tupl": [2, 6, 7], "factor": [2, 9, 12], "direct": [2, 8, 9, 23], "perform": [2, 6, 7, 12, 19, 20, 23], "fit": [2, 12], "reduc": [2, 12, 18, 21, 23], "float": [2, 4, 5, 6, 7, 8, 18], "rel": 2, "threshold": [2, 6, 23], "exclud": [2, 12], "low": [2, 12, 23], "high": [2, 12], "averag": [2, 5, 7, 12, 20, 23], "weight": [2, 12], "hampel": [2, 12], "m": [2, 5, 6, 7, 8, 21], "estim": 2, "http": [2, 4, 5, 7, 21], "www": 2, "statsmodel": 2, "org": [2, 21], "stabl": 2, "rlm": [2, 12], "html": 2, "accord": [2, 6, 7, 13, 14, 18, 20, 23], "classic": 2, "leastsq": 2, "algorithm": [2, 4, 12, 15, 21], "solv": [2, 12], "A": [2, 18, 20, 21], "b": [2, 12, 21], "result": [2, 3, 4, 5, 6, 7, 8, 10, 11, 21, 23], "save": [2, 3, 4, 5, 6, 7, 8, 10, 18], "bkg_dirnam": 2, "bkg": 2, "png": [2, 12, 20, 23, 24], "format": [2, 8, 16, 18, 24], "vmin": [2, 5], "vmax": [2, 5], "cross_term": [2, 12], "potenti": [2, 12, 14], "z": [2, 8, 12, 18, 20, 22, 24], "respect": [2, 18], "account": [2, 12, 18, 23], "cross": [2, 12], "expr": 2, "dim": [2, 12], "force_cst_term": 2, "express": [2, 12], "print": [2, 10], "variabl": [2, 12], "arr": [2, 7, 9, 11], "poly_basis_precalc": 2, "poly_basis_precalc_skip": 2, "kwargs_3d": 2, "np": [2, 7, 8, 23], "n": [2, 5, 6, 7, 8], "p": [2, 6, 7, 21], "2d": [2, 6, 7, 12, 20], "3d": [2, 9, 10, 12, 18, 21, 22], "pre": 2, "significantli": [2, 12], "decreas": [2, 12], "time": [2, 12, 13, 21, 23], "deal": 2, "huge": 2, "repetit": 2, "task": 2, "arr_bkg": 2, "final": [2, 8, 19, 22], "shape": [2, 7, 11, 15], "associ": [2, 5, 7, 12, 20, 21, 23], "nd": 2, "poly_basi": [2, 12], "evalu": 2, "k": [2, 21], "shape_3d": 2, "coefs_3d": 2, "powers_3d": 2, "previous": [2, 7, 23], "axi": [2, 6, 7, 9, 18, 20, 22, 24], "previuosli": 2, "iter": [2, 3, 4, 6, 15], "area": [3, 6, 7, 12, 13, 14, 18, 23], "4": [3, 6, 7, 9, 14], "coordin": [3, 6, 7, 8, 13, 14, 24], "xmin": [3, 6, 13, 14], "xmax": [3, 6, 13, 14], "ymin": [3, 6, 13, 14], "ymax": [3, 6, 13, 14], "pid_0": 3, "imin": [3, 7], "imax": [3, 7], "jmin": [3, 7], "jmax": [3, 7], "maxit": [4, 15], "100": [4, 20, 21, 22, 23], "cvg_threshold": [4, 15], "filter": [4, 5, 14, 15], "vsnr": 4, "github": [4, 18, 21], "com": [4, 5, 7, 21], "cea": [4, 21], "metrocarac": [4, 21], "pyvsnr": [4, 16, 21], "maximum": [4, 7, 15], "converg": [4, 15], "criteria": 4, "stop": [4, 15, 17], "residu": [4, 15], "variat": [4, 12, 15, 21], "between": [4, 12, 15, 20, 21, 23, 24], "specifi": [4, 12, 17, 20, 22, 23], "noise_level": [4, 15], "sigma": [4, 15], "theta": [4, 15], "gabor": [4, 15], "20": [4, 7, 21, 22, 23], "40": 4, "intens": [5, 12, 15, 19, 21, 22], "rescal": [5, 19, 21, 22], "histo": 5, "histogram": [5, 20], "nbin": [5, 20], "256": [5, 20], "range_bin": [5, 20], "filter_s": [5, 20], "bin": [5, 20], "rang": [5, 18, 20], "do": [5, 14, 21], "preliminari": [5, 20], "loop": [5, 20], "all": [5, 6, 7, 9, 11, 18, 20], "file": [5, 9, 10, 16, 17, 18, 22, 24], "extract": [5, 10, 18], "size": [5, 7, 12, 18, 21, 23, 24], "oper": [5, 7], "transvers": 5, "1d": 5, "uniform": [5, 21, 22, 23, 24], "target": [5, 22], "standard": [5, 13, 14, 16, 18], "through": [5, 12, 18], "img": [5, 6, 7, 9, 12], "cdf_target": 5, "x_target": 5, "find": [5, 12], "closest": 5, "pixel": [5, 12, 13, 14, 23], "match": [5, 7], "cdf": 5, "cumul": [5, 6, 7, 9, 23], "distribut": [5, 21, 24], "given": [5, 6, 7, 12, 18, 23], "h": 5, "t": [5, 16, 21], "stackoverflow": [5, 7], "question": [5, 7], "32655686": 5, "support": [5, 16, 21], "grai": [5, 12, 18, 20, 21, 23], "level": [5, 20, 23], "img_resc": 5, "an": [5, 10, 12, 18, 20, 21, 22, 23, 24], "handl": [5, 8], "img_cdf": 5, "registr": [6, 7, 14, 19, 21, 22], "tmat": [6, 7], "transform": [6, 7, 23], "matric": [6, 7, 23], "nblock": 6, "nb_block": [6, 7, 23], "translat": [6, 7, 23], "whole": [6, 7], "binar": [6, 23], "patch": [6, 7, 23], "sub": [6, 7, 18], "matrix": [6, 7, 9, 23], "To": [6, 18, 20, 22], "choos": [6, 23], "among": [6, 7, 23], "rigid_bodi": [6, 23], "scaled_rot": [6, 23], "affin": [6, 7, 23], "pystackreg": [6, 23], "default": [6, 7, 10, 12, 17, 18, 23], "ref": 6, "stackreg": 6, "refer": [6, 7, 10, 12, 15, 18, 20, 21, 24], "move": [6, 7], "titl": 6, "evolut": [6, 18], "compon": [6, 11, 23], "issu": [6, 15, 18, 19, 21], "sequenc": [6, 7], "figur": [6, 18, 23], "fig": 6, "matplotlib": 6, "transl_x": [6, 7], "transl_i": [6, 7], "rotat": [6, 21], "scale_x": 6, "scale_i": 6, "shear": 6, "note": [6, 12, 17, 18, 19, 20, 21, 23], "natur": 6, "angl": 6, "counter": 6, "clockwis": 6, "convent": [6, 18], "pre_calculated_tmat": 7, "constant_drift": [7, 23], "box_size_averag": [7, 23], "subpixel": [7, 21, 23], "mode": [7, 23], "constant": [7, 23, 24], "applic": [7, 21, 23], "box": 7, "run": [7, 20, 23], "keyword": [7, 18, 23], "enabl": [7, 23], "edg": [7, 14, 21, 23], "symmetr": [7, 23], "reflect": [7, 23], "wrap": [7, 23], "extrapol": [7, 14, 23], "point": [7, 16], "outsid": [7, 18, 23], "boundari": 7, "fill": 7, "pad": [7, 23], "cval": [7, 23], "automat": [7, 17, 18], "set": [7, 12, 18, 19, 23], "nan": [7, 23], "piecewis": 7, "behaviour": [7, 12], "conjunct": 7, "interpol": [7, 8, 24], "warp": 7, "img_reg": 7, "regist": 7, "tform": 7, "piecewiseaffinetransform": 7, "drift": [7, 21, 23], "is_cumul": 7, "tmats_new": 7, "box_siz": 7, "window": 7, "tmats_cumul": 7, "indic": [7, 12, 13, 14, 17], "inner": 7, "rectangl": 7, "success": [7, 21], "tansform": 7, "flow": 7, "largest": 7, "region": [7, 12, 13, 21], "affect": [7, 18], "contain": [7, 10, 18], "2478447": 7, "dtype": [7, 9, 11], "stats_out": 8, "output": [8, 12, 17, 19, 20, 23, 24], "zpos_out": 8, "polici": [8, 24], "zpos_in": 8, "slice_nb": [8, 24], "z_coord": [8, 24], "slice_": [8, 24], "_z": [8, 24], "um": [8, 24], "origin": [8, 10, 13, 14, 18, 20, 22], "posit": [8, 12, 18, 20, 24], "verbos": [8, 10], "pars": [8, 10], "img_r": 9, "stat": 9, "append": 9, "write": 9, "after": [9, 17, 18, 21, 24], "reformat": [9, 18], "machin": 9, "limit": [9, 14], "wrt": 9, "num": 9, "highest": 9, "divid": 9, "pair": [9, 23], "ex": 9, "6": 9, "12": 9, "mat": 9, "product": 9, "acquisit": [10, 12, 13, 15, 17, 18, 21, 23, 24], "a3d": [10, 18], "setup": [10, 18], "stack_dir": 10, "fname_toml_ref": [10, 18], "raw": [10, 18], "must": [10, 11], "atlas3d": [10, 18], "subdirectori": 10, "channel": [10, 17, 18, 21], "toml": [10, 18, 22], "taken": [10, 12, 20], "asset": 10, "print_tag": 10, "fname_xml": 10, "encod": [10, 18], "iso": 10, "8859": 10, "made": [10, 18], "fibic": [10, 18], "atla": [10, 18], "engin": 10, "read": [10, 18], "control": 10, "thei": [10, 18], "xml": 10, "tag": 10, "etroot": 10, "root": [10, 17, 18], "elementtre": 10, "param_nam": 10, "etroot_from_xml": 10, "full_output": 10, "lxml": 10, "element": 10, "xpath": 10, "predefin": 10, "dictionnari": 10, "thi": [10, 12, 15, 17, 18, 20, 21, 23, 24], "string": 10, "AND": 10, "sharedctyp": 11, "barrier": 11, "shared_stat": 11, "shape_stat": 11, "dtype_stat": 11, "shape_arrai": 11, "dtype_arrai": 11, "worker": 11, "buffer": 11, "kwarg": 11, "wrapper": 11, "case": [11, 12, 13, 15, 17, 20, 21, 22, 23, 24], "free": [11, 18], "so": 11, "independ": 11, "can": [11, 12, 15, 16, 17, 18, 21], "have": [11, 12, 17, 18, 24], "access": 11, "kmin": 11, "kmax": 11, "is_stat": 11, "collect": 11, "sent": 11, "most": [12, 13], "techniqu": 12, "engend": [], "increas": [], "due": [12, 14, 21], "instanc": [12, 14, 18, 21, 24], "charg": [12, 21], "effect": [12, 14, 15, 22, 23], "conduct": 12, "materi": 12, "shadow": [12, 21], "carv": [], "aim": [12, 14, 15, 18, 20, 23], "larg": [12, 23], "scale": [12, 23], "assum": 12, "realis": 12, "resolut": 12, "minim": [12, 15, 16, 21], "problem": 12, "least": [12, 18], "squar": [12, 18], "consist": [12, 15, 18, 21, 23], "xy": 12, "a_0": 12, "a_1": 12, "a_2": 12, "a_3": 12, "a_4": 12, "begin": 12, "align": [12, 23], "underset": 12, "mathbb": 12, "rxr": 12, "subset": 12, "operatornam": 12, "quad": 12, "end": [12, 17, 21], "illustr": [12, 13, 15, 18, 20, 21, 22, 23, 24], "synthet": [12, 13, 15, 18, 20, 21, 22, 23, 24], "test": [12, 13, 15, 18, 19, 20, 22, 23, 24], "5": [12, 13, 23], "dimens": 12, "singl": [12, 17, 18, 23], "cost": 12, "determin": [12, 20], "abov": [12, 18], "lead": [12, 18, 20], "differ": [12, 18], "one": [12, 14, 18, 21], "anoth": [12, 18, 21], "two": [12, 18, 23], "wai": 12, "definit": 12, "explicitli": 12, "liter": 12, "implicitli": 12, "prove": 12, "crucial": 12, "achiev": [12, 20], "desir": 12, "inde": 18, "thought": 12, "form": [12, 16], "xyz": 12, "mai": [12, 18], "actual": [12, 13, 24], "its": [12, 18, 24], "minimum": 12, "follow": [12, 16, 18, 21, 22], "c": [12, 17, 21], "procedur": 12, "sinc": 12, "could": [12, 18, 23], "big": 12, "allow": [12, 14, 17, 18, 23], "1000x1000x1000": 12, "seem": 12, "good": [12, 16], "compromis": 12, "accuraci": 12, "ram": 12, "occup": 12, "ones": 12, "realiz": [12, 18], "local": 12, "instead": 12, "real": [12, 18], "benefit": 12, "observ": 12, "practic": 12, "includ": [12, 18, 24], "impact": 12, "slightli": 12, "like": [12, 15, 21], "hole": 12, "porou": 12, "medium": 12, "character": 12, "veri": 12, "satur": 12, "reason": 12, "mask": 12, "below": [12, 18, 23], "At": 12, "outlier": 12, "special": [12, 20, 23, 24], "gener": [12, 14, 18, 19, 20, 22, 23, 24], "give": [12, 16, 20], "wider": [], "than": [13, 18, 23], "Of": [13, 21], "interest": [13, 21], "roi": [13, 18, 21], "45": 13, "42": 13, "system": [13, 14], "bottom": [13, 14], "left": [13, 14], "strictli": 14, "ident": 14, "It": [14, 17, 18], "artefact": [14, 15, 21], "cropping_fin": [14, 17, 21], "distinct": 14, "38": 14, "30": [14, 23], "stripe": [15, 21], "curtain": [15, 22], "appear": [15, 21], "some": [15, 18, 21, 22], "technic": [15, 21], "pyvnsr": 15, "librari": [15, 21, 23], "50": 15, "1e": 15, "200": 15, "80": 15, "criterion": 15, "reach": 15, "pystack3d": [16, 17, 18, 22], "new": 16, "project": [16, 19], "start": [16, 17, 19], "2021": 16, "warmli": 16, "encourag": 16, "collabor": 16, "contribut": 16, "ongo": 16, "improv": 16, "welcom": 16, "bug": 16, "report": 16, "code": [16, 21], "featur": [16, 23], "tracker": 16, "propos": 16, "demonstr": 16, "copi": 16, "past": 16, "error": 16, "traceback": 16, "you": [16, 21], "want": 16, "sourc": [16, 21], "send": 16, "u": [16, 21], "against": 16, "main": 16, "branch": 16, "small": [16, 18], "fix": 16, "correct": [16, 17, 21], "user": [16, 17, 18, 23], "guid": 16, "typic": [15, 16, 18, 21], "But": [16, 18], "don": 16, "hesit": 16, "also": 16, "signific": 16, "need": [16, 18], "we": [16, 22], "ll": 16, "help": [16, 18], "get": [16, 19], "readi": 16, "common": 16, "add": 16, "gui": 16, "make": [16, 23], "ind_min": 17, "150": [17, 22], "ind_max": 17, "1500": 17, "esb": 17, "se2": 17, "16": [17, 18], "histori": 17, "multipl": [17, 21], "In": [17, 18, 21, 23], "directli": 17, "put": 17, "equival": 17, "processor": [], "alreadi": 17, "restart": 17, "updat": 17, "requir": [18, 21], "both": 18, "section": [18, 21], "annot": [], "either": [18, 20], "project_dir": 18, "slice_0000_z": 18, "0000um": 18, "slice_0001_z": 18, "0100um": 18, "channel_1": 18, "channel_2": 18, "onc": 18, "place": [], "insid": [12, 18], "As": 18, "entir": [12, 18, 23], "consequ": 18, "suffici": [18, 23], "amount": 18, "disk": 18, "space": 18, "2000": [18, 21], "2000x2000": 18, "bit": 18, "approxim": [18, 21], "15gb": 18, "instruct": 18, "provid": [18, 21], "here": [18, 21], "adapt": 18, "import": 18, "mandatori": 18, "By": 18, "my_toml_ref": 18, "obtain": [18, 22], "via": [18, 21], "omit": 18, "full": [18, 20, 23], "onli": 18, "addit": [18, 21], "boolean": 18, "non": [18, 21, 22, 23], "said": 18, "describ": 18, "hereaft": [18, 22], "exist": 18, "min": [18, 20], "max": [18, 20], "mean": [18, 23], "along": [18, 20, 22, 24], "befor": [18, 21, 24], "compat": 18, "modifi": 18, "integ": [18, 20], "author": 18, "happen": 18, "subtract": [18, 23], "neg": 18, "overflow": 18, "repositori": 18, "compos": [18, 22], "quick": 18, "overview": 18, "outcom": 18, "cd": [18, 21], "ex_synthetic_stack": [18, 21], "py": [18, 21], "second": 18, "8": 18, "although": 18, "longer": 18, "previou": 18, "ex_real_stack": [18, 21], "introduct": 19, "what": [19, 22], "instal": 19, "acknowledg": 19, "citat": 19, "organ": 19, "develop": [18, 19], "pull": 19, "request": 19, "todo": 19, "homogen": [20, 21], "consecut": [20, 23], "across": 20, "cut": [20, 22], "plane": [20, 22], "83": [20, 22], "strong": 20, "chang": [18, 20, 22], "contrast": [20, 21], "127": 20, "intensity_rescaling_profil": 20, "intensity_rescaling_map": 20, "profil": 20, "same": 20, "inform": 20, "map": 20, "represent": 20, "maxim": 20, "mainli": 20, "hidden": 20, "except": 20, "70": [20, 22, 23], "open": 21, "written": 21, "tool": 21, "segment": 21, "ani": [17, 21, 23], "field": [18, 21], "view": [18, 21], "misalign": 21, "shift": [21, 22, 23], "spatial": [21, 23], "elimin": 21, "produc": [12, 18, 21], "select": [21, 23], "defect": [21, 22], "ground": 21, "truth": 21, "wa": 21, "design": 21, "rapid": 21, "4224": 21, "32": 21, "intel": 21, "r": 21, "xeon": 21, "platinum": 21, "8362": 21, "80ghz": 21, "linux": 21, "server": 21, "28": 21, "33": 21, "350": 21, "9": 21, "gpu": 21, "nvidia": 21, "git": 21, "clone": 21, "pypi": 21, "pip": 21, "further": 21, "pytest": 21, "carri": 21, "out": [21, 24], "platform": 21, "nanocharacteris": 21, "pfnc": 21, "recherch": 21, "technologiqu": 21, "de": 21, "program": 21, "french": 21, "nation": 21, "research": 21, "agenc": 21, "anr": 21, "articl": 21, "pleas": 21, "cite": 21, "qu\u00e9m\u00e9r\u00e9": 21, "david": 21, "2024": 21, "fast": 21, "journal": 21, "softwar": [18, 21], "submit": 21, "pavi": 21, "zenodo": 21, "doi": 21, "5281": 21, "10623640": 21, "fehrenbach": 21, "j": 21, "weiss": 21, "lorenzo": 21, "2012": 21, "stationari": 21, "nois": 21, "microscopi": 21, "ieee": 21, "transact": 21, "21": 21, "4420": 21, "4430": 21, "th\u00e9venaz": 21, "ruttimann": 21, "e": 21, "unser": 21, "1998": 21, "pyramid": 21, "approach": 21, "vol": 21, "7": 21, "pp": 21, "27": 21, "41": 21, "januari": 21, "structur": 22, "condit": 22, "encapsul": 22, "next": [], "300": 22, "voxel": 22, "sampl": 22, "dz": [18, 22, 24], "01": [22, 24], "02": 22, "visualis": 22, "realign": 23, "other": [18, 23], "occur": 23, "3x3": 23, "remind": 23, "35": 23, "should": 23, "encompass": 23, "relev": 23, "emploi": 23, "decompos": 23, "grid": 23, "block": 23, "thu": 23, "captur": 23, "bilinear": 23, "uncommon": 23, "visibl": 23, "slide": 23, "fluctuat": 23, "possibl": 23, "less": 23, "equal": 23, "preserv": 23, "registration_calculation_cumul": 23, "show": [23, 24], "flat": 23, "despit": 23, "recreat": 24, "linear": 24, "z_posit": 24, "z_increment": 24, "increment": 24, "deep": 12, "abelow": [], "larger": 13, "parallel": 17, "thread": [17, 18], "done": [17, 21], "middl": 17, "finish": 17, "abl": 17, "unexpect": 17, "interrupt": 17, "found": 18, "acquisiton": 18, "might": 18, "On": 18, "top": 18, "check": 18, "detector": 21, "bright": [21, 22], "inhomogeneti": 21, "ad": 22, "inter": 22, "distanc": 22, "comput": 23, "zero": 23, "known": 24, "measur": 24, "comment": 23, "line": 23}, "objects": {"": [[1, 0, 0, "-", "pystack3d"]], "pystack3d": [[1, 1, 1, "", "Stack3d"], [2, 0, 0, "-", "bkg_removal"], [3, 0, 0, "-", "cropping"], [4, 0, 0, "-", "destriping"], [5, 0, 0, "-", "intensity_rescaling"], [1, 4, 1, "", "pbar_update"], [1, 4, 1, "", "plot"], [6, 0, 0, "-", "registration_calculation"], [7, 0, 0, "-", "registration_transformation"], [8, 0, 0, "-", "resampling"], [9, 0, 0, "-", "utils"], [10, 0, 0, "-", "utils_metadata_fibics"], [11, 0, 0, "-", "utils_multiprocessing"]], "pystack3d.Stack3d": [[1, 2, 1, "", "create_partition"], [1, 2, 1, "", "eval"], [1, 3, 1, "", "last_step_dir"], [1, 3, 1, "", "pathdir"]], "pystack3d.bkg_removal": [[2, 4, 1, "", "bkg_3d_from_slices"], [2, 4, 1, "", "bkg_calculation"], [2, 4, 1, "", "bkg_removal"], [2, 4, 1, "", "bkg_saving"], [2, 4, 1, "", "eval"], [2, 4, 1, "", "expr_from_powers"], [2, 4, 1, "", "init_args"], [2, 4, 1, "", "plot"], [2, 4, 1, "", "poly_basis_calculation"], [2, 4, 1, "", "powers_from_expr"], [2, 4, 1, "", "powers_from_orders"]], "pystack3d.cropping": [[3, 4, 1, "", "cropping"], [3, 4, 1, "", "inds_from_area"]], "pystack3d.destriping": [[4, 4, 1, "", "destriping"]], "pystack3d.intensity_rescaling": [[5, 4, 1, "", "cdf_calculation"], [5, 4, 1, "", "eval"], [5, 4, 1, "", "init_args"], [5, 4, 1, "", "intensity_rescaling"], [5, 4, 1, "", "plot"]], "pystack3d.registration_calculation": [[6, 4, 1, "", "decomposition"], [6, 4, 1, "", "init_args"], [6, 4, 1, "", "plot"], [6, 4, 1, "", "registration_calculation"], [6, 4, 1, "", "registration_plot"], [6, 4, 1, "", "tmat_calculation"]], "pystack3d.registration_transformation": [[7, 4, 1, "", "constant_drift_removal"], [7, 4, 1, "", "find_max_inner_rectangle"], [7, 4, 1, "", "img_transformation"], [7, 4, 1, "", "init_args"], [7, 4, 1, "", "inner_rectangle"], [7, 4, 1, "", "plot"], [7, 4, 1, "", "registration_transformation"], [7, 4, 1, "", "running_avg_removal"]], "pystack3d.resampling": [[8, 4, 1, "", "extract_z_from_filenames"], [8, 4, 1, "", "init_args"], [8, 4, 1, "", "plot"], [8, 4, 1, "", "resampling"]], "pystack3d.utils": [[9, 4, 1, "", "cumdot"], [9, 4, 1, "", "division"], [9, 4, 1, "", "img_reformatting"], [9, 4, 1, "", "imread_3d_skipping"], [9, 4, 1, "", "outputs_saving"], [9, 4, 1, "", "skipping"]], "pystack3d.utils_metadata_fibics": [[10, 4, 1, "", "param_from_xml_ETroot"], [10, 4, 1, "", "params_from_metadata"], [10, 4, 1, "", "read_tags"]], "pystack3d.utils_multiprocessing": [[11, 4, 1, "", "initialize_args"], [11, 4, 1, "", "np_from_array"], [11, 4, 1, "", "receive_shared_array"], [11, 4, 1, "", "send_shared_array"], [11, 4, 1, "", "shared_array_init"], [11, 4, 1, "", "step_wrapper"], [11, 4, 1, "", "worker_init"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"pystack3d": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 19, 21], "packag": 1, "submodul": 1, "modul": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "content": 1, "bkg_remov": 2, "crop": [3, 13, 14], "destrip": [4, 15], "intensity_resc": 5, "registration_calcul": 6, "registration_transform": 7, "resampl": [8, 24], "util": 9, "utils_metadata_fib": 10, "utils_multiprocess": 11, "background": 12, "remov": 12, "plot": [12, 20, 23, 24], "final": 14, "develop": 16, "note": 16, "issu": 16, "pull": 16, "request": 16, "todo": 16, "list": 16, "gener": 17, "paramet": [17, 22], "get": 18, "start": 18, "project": 18, "directori": 18, "organ": 18, "workflow": 18, "initi": 18, "fibic": [], "execut": [18, 21], "output": 18, "exampl": [18, 21], "welcom": 19, "document": 19, "user": 19, "guid": 19, "api": 19, "refer": 19, "intens": 20, "rescal": 20, "introduct": 21, "what": 21, "i": 21, "perform": 21, "instal": 21, "test": 21, "acknowledg": 21, "citat": 21, "set": 22, "registr": 23, "case": 18, "zeiss": 18, "fib": 18, "sem": 18}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 57}, "alltitles": {"pystack3d": [[0, "pystack3d"]], "pystack3d package": [[1, "pystack3d-package"]], "Submodules": [[1, "submodules"]], "Module contents": [[1, "module-pystack3d"]], "pystack3d.bkg_removal module": [[2, "module-pystack3d.bkg_removal"]], "pystack3d.cropping module": [[3, "module-pystack3d.cropping"]], "pystack3d.destriping module": [[4, "module-pystack3d.destriping"]], "pystack3d.intensity_rescaling module": [[5, "module-pystack3d.intensity_rescaling"]], "pystack3d.resampling module": [[8, "module-pystack3d.resampling"]], "pystack3d.utils module": [[9, "module-pystack3d.utils"]], "pystack3d.utils_metadata_fibics module": [[10, "module-pystack3d.utils_metadata_fibics"]], "pystack3d.utils_multiprocessing module": [[11, "module-pystack3d.utils_multiprocessing"]], "Developers Notes": [[16, "developers-notes"]], "Issues": [[16, "issues"]], "Pull Requests": [[16, "pull-requests"]], "TODO List": [[16, "todo-list"]], "Welcome to the PyStack3D documentation !": [[19, "welcome-to-the-pystack3d-documentation"]], "User Guide": [[19, null]], "API References": [[19, null]], "Cropping": [[13, "cropping"]], "Cropping final": [[14, "cropping-final"]], "Destriping": [[15, "destriping"]], "General Parameters": [[17, "general-parameters"]], "Plotting": [[20, "plotting"], [24, "plotting"], [12, "plotting"], [23, "plotting"]], "Intensity rescaling": [[20, "intensity-rescaling"]], "Introduction": [[21, "introduction"]], "What is PyStack3D ?": [[21, "what-is-pystack3d"]], "Performance": [[21, "performance"], [21, "id3"]], "Install": [[21, "install"]], "Tests and examples execution": [[21, "tests-and-examples-execution"]], "Acknowledgements": [[21, "acknowledgements"]], "Citations": [[21, "citations"]], "Parameters settings": [[22, "parameters-settings"]], "Resampling": [[24, "resampling"]], "Getting started": [[18, "getting-started"]], "Project directory organization": [[18, "project-directory-organization"]], "Workflow initialization": [[18, "workflow-initialization"]], "Case of a Zeiss FIB-SEM": [[18, "case-of-a-zeiss-fib-sem"]], "Workflow execution": [[18, "workflow-execution"]], "Outputs": [[18, "outputs"]], "Examples": [[18, "examples"]], "pystack3d.registration_calculation module": [[6, "module-pystack3d.registration_calculation"]], "pystack3d.registration_transformation module": [[7, "module-pystack3d.registration_transformation"]], "Background removal": [[12, "background-removal"]], "Registration": [[23, "registration"]]}, "indexentries": {"stack3d (class in pystack3d)": [[1, "pystack3d.Stack3d"]], "create_partition() (pystack3d.stack3d method)": [[1, "pystack3d.Stack3d.create_partition"]], "eval() (pystack3d.stack3d method)": [[1, "pystack3d.Stack3d.eval"]], "last_step_dir (pystack3d.stack3d attribute)": [[1, "pystack3d.Stack3d.last_step_dir"]], "module": [[1, "module-pystack3d"], [6, "module-pystack3d.registration_calculation"], [7, "module-pystack3d.registration_transformation"]], "pathdir (pystack3d.stack3d attribute)": [[1, "pystack3d.Stack3d.pathdir"]], "pbar_update() (in module pystack3d)": [[1, "pystack3d.pbar_update"]], "plot() (in module pystack3d)": [[1, "pystack3d.plot"]], "pystack3d": [[1, "module-pystack3d"]], "decomposition() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.decomposition"]], "init_args() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.init_args"]], "plot() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.plot"]], "pystack3d.registration_calculation": [[6, "module-pystack3d.registration_calculation"]], "registration_calculation() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.registration_calculation"]], "registration_plot() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.registration_plot"]], "tmat_calculation() (in module pystack3d.registration_calculation)": [[6, "pystack3d.registration_calculation.tmat_calculation"]], "constant_drift_removal() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.constant_drift_removal"]], "find_max_inner_rectangle() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.find_max_inner_rectangle"]], "img_transformation() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.img_transformation"]], "init_args() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.init_args"]], "inner_rectangle() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.inner_rectangle"]], "plot() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.plot"]], "pystack3d.registration_transformation": [[7, "module-pystack3d.registration_transformation"]], "registration_transformation() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.registration_transformation"]], "running_avg_removal() (in module pystack3d.registration_transformation)": [[7, "pystack3d.registration_transformation.running_avg_removal"]]}})